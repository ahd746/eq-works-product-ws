(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{238:function(e,t,n){"use strict";n.r(t);var c=n(2),r=n(0),a=n.n(r),s=n(14),o=n.n(s),i=n(11),u="EVENTS_HOURLY",j="EVENTS_DAILY",b="STATS_HOURLY",l="STATS_DAILY",d="POI",p="SEARCH",O="HOME",h="EVENTS_HOURLY_SAGA",x="EVENTS_DAILY_SAGA",f="STATS_HOURLY_SAGA",v="STATS_DAILY_SAGA",m="POI_SAGA",y="SEARCH_SAGA",g="HOME_SAGA",k=n(15),S=function(){var e=Object(k.c)((function(e){return e.home})),t=Object(k.b)();return Object(r.useEffect)((function(){t({type:g})}),[t]),Object(c.jsx)(c.Fragment,{children:e?Object(c.jsx)("p",{children:e}):Object(c.jsx)("p",{children:"Loading ..."})})},w=n(18),A=n(41),C=n(44),E=n.n(C),L=function(e){var t=e.eventsData,n=e.type,a=Object(r.useState)([]),s=Object(w.a)(a,2),o=s[0],i=s[1],u=Object(r.useState)([]),j=Object(w.a)(u,2),b=j[0],l=j[1];Object(r.useEffect)((function(){i(t.map((function(e){return E()(e.date).add(1,"days").format("DD/MM/YYYY")}))),l(t.map((function(e){return e.events})))}),[t]);var d={labels:o,datasets:[{label:"Events",data:b,backgroundColor:"green",borderColor:"black",borderWidth:1}]};return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)(A.Bar,{data:d}):Object(c.jsx)(A.Line,{data:d,options:{elements:{point:{radius:0}}}})})},_=function(e){var t=e.stats,n=e.type,a=Object(r.useState)([]),s=Object(w.a)(a,2),o=s[0],i=s[1],u=Object(r.useState)([]),j=Object(w.a)(u,2),b=j[0],l=j[1],d=Object(r.useState)([]),p=Object(w.a)(d,2),O=p[0],h=p[1],x=Object(r.useState)([]),f=Object(w.a)(x,2),v=f[0],m=f[1];Object(r.useEffect)((function(){i(t.map((function(e){return E()(e.date).add(1,"days").format("DD/MM/YYYY")}))),l(t.map((function(e){return e.impressions/500}))),h(t.map((function(e){return e.clicks}))),m(t.map((function(e){return e.revenue})))}),[t]);var y={labels:o,datasets:[{label:"Impressions(x500)",data:b,backgroundColor:"",borderColor:"black",borderWidth:5},{label:"Clicks",data:O,backgroundColor:"",borderColor:"blue",borderWidth:5},{label:"Revenue",data:v,backgroundColor:"",borderColor:"green",borderWidth:5}]};return Object(c.jsx)(c.Fragment,{children:n?Object(c.jsx)(A.Bar,{data:y}):Object(c.jsx)(A.Line,{data:y,options:{elements:{point:{radius:0}}}})})},Y=function(){var e=Object(k.c)((function(e){return e.stats})),t=Object(k.c)((function(e){return e.events})),n=Object(k.b)();return Object(r.useEffect)((function(){n({type:x}),n({type:v})}),[n]),Object(c.jsxs)("div",{className:"mb-5",children:[Object(c.jsx)("h3",{children:"Daily Events Chart:"}),Object(c.jsx)(L,{eventsData:t,type:!0}),Object(c.jsx)("h3",{className:"mt-5",children:"Daily Stats Chart:"}),Object(c.jsx)(_,{stats:e,type:!0})]})},N=function(){var e=Object(k.c)((function(e){return e.stats})),t=Object(k.c)((function(e){return e.events})),n=Object(k.b)();return Object(r.useEffect)((function(){n({type:h}),n({type:f})}),[n]),Object(c.jsxs)("div",{className:"mb-5",children:[Object(c.jsx)("h3",{children:"Hourly Events Chart:"}),Object(c.jsx)(L,{eventsData:t,type:!1}),Object(c.jsx)("h3",{className:"mt-5",children:"Hourly Stats Chart:"}),Object(c.jsx)(_,{stats:e,type:!1})]})},D=n(248),T=n(104),H=n(106),I=n(243),G=n(103),F=function(e){var t=e.location;return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:t.poi_id}),Object(c.jsx)("td",{children:t.name}),Object(c.jsx)("td",{children:t.lat}),Object(c.jsx)("td",{children:t.lon})]})},M=function(e){var t=e.locations;return Object(c.jsx)(c.Fragment,{children:t.length?Object(c.jsxs)(G.a,{striped:!0,bordered:!0,variant:"dark",children:[Object(c.jsx)("thead",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{children:"#"}),Object(c.jsx)("th",{children:"Location"}),Object(c.jsx)("th",{children:"Latitude"}),Object(c.jsx)("th",{children:"Longitude"})]})}),Object(c.jsx)("tbody",{children:t.map((function(e){return Object(c.jsx)(F,{location:e},e.poi_id)}))})]}):Object(c.jsx)("p",{className:"text-center",children:"No Location Found ..."})})},R=function(){return{type:m}},q=function(){var e=Object(k.c)((function(e){return e.poi})),t=Object(k.b)(),n=Object(r.useState)(""),a=Object(w.a)(n,2),s=a[0],o=a[1];return Object(r.useEffect)((function(){t(R())}),[t]),Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("h3",{className:"my-3",children:"Geographic coordinate:"}),Object(c.jsxs)(D.a,{className:"my-4",children:[Object(c.jsx)(T.a,{type:"text",placeholder:"Search location name or coordinate",className:"d-inline w-75 mr-sm-2",onChange:function(e){o(e.target.value),t(R())}}),Object(c.jsx)(H.a,{style:{marginTop:"-5px"},variant:"outline-success",onClick:function(){t(function(e){return{type:y,payload:e}}(s))},children:"Search"})]}),e?Object(c.jsx)(M,{locations:e}):Object(c.jsx)(I.a,{animation:"border"})]})},W=n(113),U=n(108),B=n(109),z=n.n(B),V=function(e){var t=e.name;return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(U.Icon,{icon:z.a,style:{fontSize:"2.5rem",color:"black"}}),Object(c.jsx)("p",{style:{fontSize:"1.2rem",fontWeight:"bold"},children:t})]})},J=void 0,Z=function(e){var t=e.poi,n=Object(r.useState)(t),a=Object(w.a)(n,2),s=a[0],o=a[1],i=Object(r.useState)(15),u=Object(w.a)(i,2),j=u[0],b=u[1];return Object(r.useEffect)((function(){o(t)}),[t]),Object(c.jsx)("div",{style:{height:"90vh",width:"100%"},children:Object(c.jsx)(W.a,{bootstrapURLKeys:{key:"AIzaSyBsW530Gbsr46TzvbiitSb0HCnqJyY8vU8"},center:{lat:s.lat,lng:s.lon},defaultZoom:j,onZoomChanged:function(){b(J.getZoom())},children:Object(c.jsx)(V,{lat:s.lat,lng:s.lon,name:s.name})})})},P=n(244),K=n(105),Q=function(){var e=Object(k.c)((function(e){return e.poi})),t=Object(k.b)();Object(r.useEffect)((function(){t(R())}),[t]);var n=Object(r.useState)(1),a=Object(w.a)(n,2),s=a[0],o=a[1];return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(P.a,{className:"mb-3",children:[Object(c.jsx)(K.a,{md:4,children:Object(c.jsx)("h3",{children:"Choose Location: "})}),Object(c.jsx)(K.a,{md:8,children:Object(c.jsx)(D.a.Control,{as:"select",onChange:function(e){o(e.target.value)},children:e&&e.map((function(e){return Object(c.jsx)("option",{value:e.poi_id,children:e.name},e.poi_id)}))})})]}),e.length?Object(c.jsx)(Z,{poi:e[s-1]}):Object(c.jsx)("p",{children:"Loading..."})]})},X=function(){return Object(c.jsx)(i.a,{to:"/"})},$=function(){return Object(c.jsxs)(i.d,{children:[Object(c.jsx)(i.b,{exact:!0,path:"/",component:S}),Object(c.jsx)(i.b,{path:"/daily",component:Y}),Object(c.jsx)(i.b,{path:"/hourly",component:N}),Object(c.jsx)(i.b,{path:"/locations",component:q}),Object(c.jsx)(i.b,{path:"/map",component:Q}),Object(c.jsx)(i.b,{path:"*",component:X})]})},ee=n(29),te=n(245),ne=(n(218),n(24)),ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:case u:return t.payload;default:return e}},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:case b:return t.payload;default:return e}},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:case p:return t.payload;default:return e}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}},oe=Object(ne.c)({events:ce,stats:re,poi:ae,home:se}),ie=n(112),ue=n(12),je=n.n(ue),be=n(10),le=n(25),de=n.n(le),pe=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com/events/daily")},Oe=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com/events/hourly")},he=je.a.mark(fe),xe=je.a.mark(ve);function fe(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(pe);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:j,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),he,null,[[0,9]])}function ve(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(Oe);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:u,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),xe,null,[[0,9]])}var me=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com/stats/daily")},ye=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com/stats/hourly")},ge=je.a.mark(Se),ke=je.a.mark(we);function Se(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(me);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:l,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),ge,null,[[0,9]])}function we(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(ye);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:b,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),ke,null,[[0,9]])}var Ae=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com/poi")},Ce=je.a.mark(Le),Ee=je.a.mark(_e);function Le(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(Ae);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:d,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),Ce,null,[[0,9]])}function _e(e){var t,n,c;return je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t=e.payload,r.next=4,Object(be.b)(Ae);case 4:return n=r.sent,c=(c=n.data).filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())||e.lat.toString().includes(t)||e.lon.toString().includes(t)})),r.next=9,Object(be.c)({type:p,payload:c});case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.log(r.t0);case 14:case"end":return r.stop()}}),Ee,null,[[0,11]])}var Ye=function(){return de.a.get("https://eq-works-product-ws.herokuapp.com")},Ne=je.a.mark(De);function De(e){var t,n;return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(be.b)(Ye);case 3:return t=e.sent,n=t.data,e.next=7,Object(be.c)({type:O,payload:n});case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),Ne,null,[[0,9]])}var Te=je.a.mark(He);function He(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=be.a,e.next=3,Object(be.d)(x,fe);case 3:return e.t1=e.sent,e.next=6,Object(be.d)(h,ve);case 6:return e.t2=e.sent,e.next=9,Object(be.d)(v,Se);case 9:return e.t3=e.sent,e.next=12,Object(be.d)(f,we);case 12:return e.t4=e.sent,e.next=15,Object(be.d)(m,Le);case 15:return e.t5=e.sent,e.next=18,Object(be.d)(y,_e);case 18:return e.t6=e.sent,e.next=21,Object(be.d)(g,De);case 21:return e.t7=e.sent,e.t8=[e.t1,e.t2,e.t3,e.t4,e.t5,e.t6,e.t7],e.next=25,(0,e.t0)(e.t8);case 25:case"end":return e.stop()}}),Te)}var Ie=Object(ie.a)(),Ge=Object(ne.e)(oe,Object(ne.d)(Object(ne.a)(Ie)));Ie.run(He);var Fe=Ge,Me=n(247),Re=n(249),qe=n(246),We=function(){return Object(c.jsx)("div",{className:"mb-4",children:Object(c.jsxs)(Me.a,{bg:"dark",variant:"dark",sticky:"top",children:[Object(c.jsx)(Me.a.Brand,{children:"EQ Work"}),Object(c.jsxs)(Re.a,{className:"mr-auto",children:[Object(c.jsx)(Re.a.Link,{as:ee.b,to:"/",children:"Home"}),Object(c.jsx)(Re.a.Link,{as:ee.b,to:"/locations",children:"Locations"}),Object(c.jsx)(Re.a.Link,{as:ee.b,to:"/map",children:"Map"}),Object(c.jsxs)(qe.a,{title:"Charts",children:[Object(c.jsx)(qe.a.Item,{as:ee.b,to:"/hourly",children:"Hourly"}),Object(c.jsx)(qe.a.Item,{as:ee.b,to:"/daily",children:"Daily"})]})]})]})})},Ue=function(){return Object(c.jsx)(k.a,{store:Fe,children:Object(c.jsxs)(ee.a,{children:[Object(c.jsx)(We,{}),Object(c.jsx)(te.a,{children:Object(c.jsx)($,{})})]})})};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(Ue,{})}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.f985e439.chunk.js.map